<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>통합 감사업무 매트릭스 시스템</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="gowun-batang-regular">
    <!-- 로그인/회원가입 화면 -->
    <div id="auth-container" class="auth-container">
        <div class="auth-card">
            <div class="auth-logo">🎯</div>
            <h1 class="auth-title">통합 감사업무 시스템</h1>
            <p class="auth-subtitle">팀 협업과 개인 생산성을 하나로</p>
            
            <div id="auth-message"></div>
            
            <!-- 로그인 폼 -->
            <form id="login-form" class="auth-form">
                <div class="form-group">
                    <input type="email" id="login-email" class="form-input" placeholder="이메일을 입력하세요" required>
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" class="form-input" placeholder="비밀번호를 입력하세요" required>
                </div>
                <button type="submit" id="login-btn" class="auth-btn">
                    <span class="btn-text">로그인</span>
                </button>
            </form>
            
            <!-- 회원가입 폼 -->
            <form id="signup-form" class="auth-form" style="display: none;">
                <div class="form-group">
                    <input type="text" id="signup-name" class="form-input" placeholder="이름을 입력하세요" required>
                </div>
                <div class="form-group">
                    <input type="email" id="signup-email" class="form-input" placeholder="이메일을 입력하세요" required>
                </div>
                <div class="form-group">
                    <input type="password" id="signup-password" class="form-input" placeholder="비밀번호를 입력하세요 (6자 이상)" required minlength="6">
                </div>
                <div class="form-group">
                    <input type="password" id="signup-confirm" class="form-input" placeholder="비밀번호를 다시 입력하세요" required minlength="6">
                </div>
                <button type="submit" id="signup-btn" class="auth-btn">
                    <span class="btn-text">회원가입</span>
                </button>
            </form>
            
            <div class="auth-switch">
                <p id="switch-text" class="auth-switch-text">계정이 없으신가요?</p>
                <button type="button" id="switch-btn" class="auth-switch-btn">회원가입</button>
            </div>
        </div>
    </div>

    <!-- 메인 애플리케이션 화면 -->
    <div id="main-app" class="main-app">
        <div class="container">
            <!-- 헤더 -->
            <div class="header">
                <div class="header-left">
                    <h1>통합 감사업무 시스템</h1>
                    <p>팀 협업과 개인 업무 관리를 위한 통합 플랫폼</p>
                </div>
                <div class="header-right">
                    <div class="nav-tabs">
                        <button class="nav-tab active" onclick="switchView('dashboard')">📊 팀 대시보드</button>
                        <button class="nav-tab" onclick="switchView('calendar')">📅 팀 일정</button>
                        <button class="nav-tab" onclick="switchView('matrix')">🎯 내 매트릭스</button>
                    </div>
                    <div class="user-info">
                        <span id="user-name" class="user-email"></span>
                        <button id="logout-btn" class="logout-btn" onclick="logout()">로그아웃</button>
                    </div>
                </div>
            </div>

            <!-- 대시보드 배경 -->
            <div class="dashboard-bg">
                <div id="dashboard-view" class="dashboard-view active">
                    <!-- 대시보드 메인: 통계+차트 -->
                    <div class="dashboard-main">
                        <!-- 왼쪽: sticky 통계 카드 -->
                        <div class="stats-summary">
                            <div class="stats-section">
                                <div class="stat-card">
                                    <h3>📋 총 업무</h3>
                                    <span class="count" id="total-work-count">0</span>
                                </div>
                                <div class="stat-card">
                                    <h3>🔄 진행중</h3>
                                    <span class="count" id="progress-work-count">0</span>
                                </div>
                                <div class="stat-card">
                                    <h3>✅ 완료</h3>
                                    <span class="count" id="completed-work-count">0</span>
                                </div>
                                <div class="stat-card">
                                    <h3>👥 내 업무</h3>
                                    <span class="count" id="my-work-count">0</span>
                                </div>
                            </div>
                        </div>
                        <!-- 오른쪽: 차트 카드 -->
                        <div class="charts-section">
                            <div class="chart-container">
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>📊 업무 분류별 현황</h3>
                                        <p>감사 유형별 업무 분포</p>
                                    </div>
                                    <div class="chart-content">
                                        <canvas id="categoryChart" width="400" height="200"></canvas>
                                    </div>
                                </div>
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>📈 진행 상태별 현황</h3>
                                        <p>업무 진행률 현황</p>
                                    </div>
                                    <div class="chart-content">
                                        <canvas id="statusChart" width="400" height="200"></canvas>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-container">
                                <div class="chart-card wide">
                                    <div class="chart-header">
                                        <h3>📅 월별 업무 추이</h3>
                                        <p>최근 6개월 업무 등록 현황</p>
                                    </div>
                                    <div class="chart-content">
                                        <canvas id="monthlyChart" width="800" height="300"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 업무 목록 섹션 -->
                    <div class="work-list-section">
                        <div class="work-list-header">
                            <h2>📋 감사업무 목록</h2>
                            <div class="action-buttons">
                                <button class="btn-csv" onclick="exportToCSV()">📄 CSV 내보내기</button>
                                <button class="btn-new" onclick="showWorkForm()">➕ 업무 등록</button>
                            </div>
                        </div>
                        
                        <!-- 상태 필터 -->
                        <div class="status-filter">
                            <button class="filter-btn active" onclick="filterByStatus('전체')">전체</button>
                            <button class="filter-btn" onclick="filterByStatus('계획수립중')">계획수립중</button>
                            <button class="filter-btn" onclick="filterByStatus('자료수집중')">자료수집중</button>
                            <button class="filter-btn" onclick="filterByStatus('자료검토중')">자료검토중</button>
                            <button class="filter-btn" onclick="filterByStatus('보고서작성중')">보고서작성중</button>
                            <button class="filter-btn" onclick="filterByStatus('보고대기중')">보고대기중</button>
                            <button class="filter-btn" onclick="filterByStatus('보고완료')">보고완료</button>
                        </div>

                        <!-- 업무 테이블 -->
                        <div class="work-table-container">
                            <table class="work-table">
                                <thead>
                                    <tr>
                                        <th>업무 분류</th>
                                        <th>업무명</th>
                                        <th>대상 부서</th>
                                        <th>감사 기간</th>
                                        <th>진행 상태</th>
                                        <th>담당자</th>
                                        <th>관리</th>
                                    </tr>
                                </thead>
                                <tbody id="work-table-body">
                                    <tr>
                                        <td colspan="7" style="text-align: center; padding: 40px; color: #718096;">
                                            등록된 업무가 없습니다. 새 업무를 등록해주세요.
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- 업무 등록 폼 -->
                    <div class="work-form" id="work-form">
                        <h3>📝 새 감사업무 등록</h3>
                        <form id="work-form-element">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="work-category">업무 분류</label>
                                    <select id="work-category" class="form-select" required>
                                        <option value="">선택하세요</option>
                                        <option value="일상감사">일상감사</option>
                                        <option value="특별감사">특별감사</option>
                                        <option value="특정감사">특정감사</option>
                                        <option value="정기감사">정기감사</option>
                                        <option value="기타">기타</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="work-status">진행 상태</label>
                                    <select id="work-status" class="form-select" required>
                                        <option value="계획수립중">계획수립중</option>
                                        <option value="자료수집중">자료수집중</option>
                                        <option value="자료검토중">자료검토중</option>
                                        <option value="보고서작성중">보고서작성중</option>
                                        <option value="보고대기중">보고대기중</option>
                                        <option value="보고완료">보고완료</option>
                                    </select>
                                </div>

                                <div class="form-group full-width">
                                    <label for="work-name">업무명</label>
                                    <input type="text" id="work-name" class="form-input" placeholder="업무명을 입력하세요" required>
                                </div>

                                <div class="form-group">
                                    <label for="target-dept">대상 부서</label>
                                    <input type="text" id="target-dept" class="form-input" placeholder="대상 부서를 입력하세요" required>
                                </div>

                                <div class="form-group">
                                    <label for="responsible-person">담당자</label>
                                    <input type="text" id="responsible-person" class="form-input" placeholder="담당자명을 입력하세요" required>
                                </div>

                                <div class="form-group">
                                    <label for="start-date">시작일자</label>
                                    <input type="date" id="start-date" class="form-input" required>
                                </div>

                                <div class="form-group">
                                    <label for="end-date">종료일자</label>
                                    <input type="date" id="end-date" class="form-input" required>
                                </div>

                                <div class="form-group full-width">
                                    <label for="work-description">업무 설명</label>
                                    <textarea id="work-description" class="form-textarea" placeholder="업무에 대한 상세 설명을 입력하세요"></textarea>
                                </div>

                                <div class="form-group full-width">
                                    <label for="key-issues">주요 지적사항</label>
                                    <textarea id="key-issues" class="form-textarea" placeholder="주요 지적사항을 입력하세요 (선택사항)"></textarea>
                                </div>
                            </div>

                            <div class="form-buttons">
                                <button type="button" class="btn-cancel" onclick="hideWorkForm()">취소</button>
                                <button type="submit" class="btn-save">저장</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- 팀 일정 뷰 -->
                <div id="calendar-view" class="calendar-view">
                    <!-- 일정 통계 섹션 -->
                    <div class="calendar-stats-section">
                        <div class="stat-card">
                            <h3>📅 이번 달 일정</h3>
                            <span class="count" id="month-events-count">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>📋 오늘 일정</h3>
                            <span class="count" id="today-events-count">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>🌴 연차/휴가</h3>
                            <span class="count" id="vacation-events-count">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>💼 업무 일정</h3>
                            <span class="count" id="work-events-count">0</span>
                        </div>
                    </div>

                    <!-- 캘린더 컨트롤 섹션 -->
                    <div class="calendar-control-section">
                        <div class="calendar-header-controls">
                            <div class="calendar-navigation">
                                <button class="nav-btn" onclick="changeCalendarMonth(-1)">‹</button>
                                <h2 id="calendar-month-title">2025년 7월</h2>
                                <button class="nav-btn" onclick="changeCalendarMonth(1)">›</button>
                            </div>
                            <div class="calendar-actions">
                                <button class="btn-today" onclick="goToToday()">오늘</button>
                                <button class="btn-add-event" onclick="showEventForm()">➕ 일정 추가</button>
                            </div>
                        </div>

                        <!-- 필터링 컨트롤 -->
                        <div class="calendar-filters">
                            <div class="filter-group">
                                <label for="creator-filter">등록자별</label>
                                <select id="creator-filter" class="filter-select" onchange="applyCalendarFilters()">
                                    <option value="">모든 등록자</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label for="type-filter">일정 유형</label>
                                <select id="type-filter" class="filter-select" onchange="applyCalendarFilters()">
                                    <option value="">모든 유형</option>
                                    <option value="업무">업무일정</option>
                                    <option value="연차">연차</option>
                                    <option value="휴가">휴가</option>
                                    <option value="회식">회식</option>
                                    <option value="교육">교육/세미나</option>
                                    <option value="출장">출장</option>
                                    <option value="개인">개인일정</option>
                                    <option value="기타">기타</option>
                                </select>
                            </div>
                            
                            <div class="filter-group">
                                <label for="date-filter">날짜 범위</label>
                                <select id="date-filter" class="filter-select" onchange="applyCalendarFilters()">
                                    <option value="">전체 기간</option>
                                    <option value="today">오늘</option>
                                    <option value="this-week">이번 주</option>
                                    <option value="this-month">이번 달</option>
                                    <option value="next-week">다음 주</option>
                                </select>
                            </div>
                            
                            <div class="filter-actions">
                                <button class="btn-filter-reset" onclick="resetCalendarFilters()">🔄 초기화</button>
                                <button class="btn-filter-toggle" onclick="toggleFilterPanel()">🔽 필터</button>
                            </div>
                        </div>

                        <!-- 색상 범례 -->
                        <div class="color-legend">
                            <div class="legend-item">
                                <div class="color-dot" style="background: #e53e3e;"></div>
                                <span>연차/긴급</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #3182ce;"></div>
                                <span>업무일정</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #38a169;"></div>
                                <span>완료/성공</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #ed8936;"></div>
                                <span>회식/모임</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #805ad5;"></div>
                                <span>교육/세미나</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #d53f8c;"></div>
                                <span>개인일정</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #718096;"></div>
                                <span>휴가/휴무</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-dot" style="background: #319795;"></div>
                                <span>출장/외근</span>
                            </div>
                        </div>
                    </div>

                    <!-- 메인 캘린더 -->
                    <div class="main-calendar-container">
                        <div class="calendar-grid-container">
                            <div class="calendar-weekdays">
                                <div class="weekday">일</div>
                                <div class="weekday">월</div>
                                <div class="weekday">화</div>
                                <div class="weekday">수</div>
                                <div class="weekday">목</div>
                                <div class="weekday">금</div>
                                <div class="weekday">토</div>
                            </div>
                            <div class="calendar-days" id="calendar-days">
                                <!-- 달력 날짜들이 동적으로 생성됩니다 -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 아이젠하워 매트릭스 뷰 -->
                <div id="matrix-view" class="matrix-view">
                    <!-- 매트릭스 상단 컨트롤 -->
                    <div class="matrix-controls">
                        <div class="feature-cards">
                            <!-- 캘린더 오버뷰 -->
                            <div class="calendar-overview">
                                <div class="calendar-overview-header">
                                    <h3 id="overview-title">2025년 7월</h3>
                                    <div class="calendar-nav">
                                        <button class="nav-btn small" onclick="changeOverviewMonth(-1)">‹</button>
                                        <button class="nav-btn small" onclick="changeOverviewMonth(1)">›</button>
                                    </div>
                                </div>
                                <div class="mini-calendar" id="mini-calendar">
                                    <!-- 미니 캘린더가 여기에 생성됩니다 -->
                                </div>
                                <div class="calendar-legend">
                                    <div class="legend-item">
                                        <div class="legend-dot has-data"></div>
                                        <span>업무 있음</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-dot selected"></div>
                                        <span>선택된 날짜</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-dot today"></div>
                                        <span>오늘</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 통계 카드 -->
                            <div class="stats-card">
                                <div class="stats-header">
                                    <h3>📊 오늘의 업무 통계</h3>
                                </div>
                                <div class="stats-content">
                                    <div class="progress-ring">
                                        <svg class="progress-svg" width="80" height="80">
                                            <circle class="progress-bg" cx="40" cy="40" r="35"></circle>
                                            <circle class="progress-bar" cx="40" cy="40" r="35" id="progress-circle"></circle>
                                        </svg>
                                        <div class="progress-text" id="progress-text">0%</div>
                                    </div>
                                    <div class="stats-details">
                                        <div class="stat-item">
                                            <span class="stat-label">전체 업무</span>
                                            <span class="stat-value" id="total-tasks">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">완료</span>
                                            <span class="stat-value completed" id="completed-tasks">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">진행 중</span>
                                            <span class="stat-value pending" id="pending-tasks">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 사분면별 현황 -->
                            <div class="quadrant-stats">
                                <div class="stats-header">
                                    <h3>🎯 사분면별 현황</h3>
                                </div>
                                <div class="quadrant-breakdown">
                                    <div class="breakdown-item q1">
                                        <div class="breakdown-icon">🚨</div>
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">긴급+중요</span>
                                            <span class="breakdown-count" id="q1-count">0</span>
                                        </div>
                                    </div>
                                    <div class="breakdown-item q2">
                                        <div class="breakdown-icon">📋</div>
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">중요</span>
                                            <span class="breakdown-count" id="q2-count">0</span>
                                        </div>
                                    </div>
                                    <div class="breakdown-item q3">
                                        <div class="breakdown-icon">🤝</div>
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">긴급</span>
                                            <span class="breakdown-count" id="q3-count">0</span>
                                        </div>
                                    </div>
                                    <div class="breakdown-item q4">
                                        <div class="breakdown-icon">🗑️</div>
                                        <div class="breakdown-info">
                                            <span class="breakdown-label">제거 대상</span>
                                            <span class="breakdown-count" id="q4-count">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 컨트롤 패널 -->
                        <div class="controls">
                            <div class="search-container">
                                <input type="text" id="search-tasks" class="search-input" placeholder="모든 날짜에서 업무 검색...">
                                <button class="search-btn" onclick="searchTasks()">검색</button>
                            </div>
                            <button class="calendar-btn" onclick="toggleCalendar()">📅 캘린더</button>
                            <div class="date-container">
                                <input type="date" id="task-date" class="date-input">
                            </div>
                            <button class="save-btn" onclick="saveTasks()">💾 저장하기</button>
                        </div>
                    </div>

                    <!-- 4사분면 매트릭스 -->
                    <div class="matrix-grid">
                        <!-- 1사분면: 중요하고 긴급한 일 -->
                        <div class="quadrant quadrant-1" data-quadrant="1">
                            <div class="quadrant-header">
                                <span class="quadrant-emoji">🚨</span>
                                <div class="quadrant-title">DO (즉시 실행)</div>
                                <div class="quadrant-subtitle">중요하고 긴급한 일</div>
                            </div>
                            <div class="task-input-container">
                                <input type="text" class="task-input" placeholder="위기 상황이나 마감 임박한 중요 업무를 입력하세요..." onkeypress="handleTaskInput(event, 1)">
                            </div>
                            <button class="add-task-btn" onclick="addTask(1)">+ 긴급 중요 업무 추가</button>
                            <ul class="task-list" id="tasks-1"></ul>
                        </div>

                        <!-- 2사분면: 중요하지만 긴급하지 않은 일 -->
                        <div class="quadrant quadrant-2" data-quadrant="2">
                            <div class="quadrant-header">
                                <span class="quadrant-emoji">📋</span>
                                <div class="quadrant-title">PLAN (계획 수립)</div>
                                <div class="quadrant-subtitle">중요하지만 긴급하지 않은 일</div>
                            </div>
                            <div class="task-input-container">
                                <input type="text" class="task-input" placeholder="장기 목표나 개발을 위한 중요한 업무를 입력하세요..." onkeypress="handleTaskInput(event, 2)">
                            </div>
                            <button class="add-task-btn" onclick="addTask(2)">+ 전략적 업무 추가</button>
                            <ul class="task-list" id="tasks-2"></ul>
                        </div>

                        <!-- 3사분면: 긴급하지만 중요하지 않은 일 -->
                        <div class="quadrant quadrant-3" data-quadrant="3">
                            <div class="quadrant-header">
                                <span class="quadrant-emoji">🤝</span>
                                <div class="quadrant-title">DELEGATE (위임)</div>
                                <div class="quadrant-subtitle">긴급하지만 중요하지 않은 일</div>
                            </div>
                            <div class="task-input-container">
                                <input type="text" class="task-input" placeholder="다른 사람에게 맡길 수 있는 급한 업무를 입력하세요..." onkeypress="handleTaskInput(event, 3)">
                            </div>
                            <button class="add-task-btn" onclick="addTask(3)">+ 위임 가능 업무 추가</button>
                            <ul class="task-list" id="tasks-3"></ul>
                        </div>

                        <!-- 4사분면: 중요하지도 긴급하지도 않은 일 -->
                        <div class="quadrant quadrant-4" data-quadrant="4">
                            <div class="quadrant-header">
                                <span class="quadrant-emoji">🗑️</span>
                                <div class="quadrant-title">DELETE (제거)</div>
                                <div class="quadrant-subtitle">중요하지도 긴급하지도 않은 일</div>
                            </div>
                            <div class="task-input-container">
                                <input type="text" class="task-input" placeholder="제거하거나 최소화할 수 있는 업무를 입력하세요..." onkeypress="handleTaskInput(event, 4)">
                            </div>
                            <button class="add-task-btn" onclick="addTask(4)">+ 제거 대상 업무 추가</button>
                            <ul class="task-list" id="tasks-4"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 캘린더 모달 -->
    <div id="calendar-modal" class="calendar-modal">
        <div class="calendar-content">
            <div class="calendar-header">
                <button class="nav-btn" onclick="changeMonth(-1)">‹</button>
                <h3 id="calendar-title">2025년 7월</h3>
                <button class="nav-btn" onclick="changeMonth(1)">›</button>
                <button class="close-btn" onclick="toggleCalendar()">✕</button>
            </div>
            <div class="calendar-grid" id="calendar-grid">
                <!-- 캘린더 날짜들이 여기에 동적으로 생성됩니다 -->
            </div>
        </div>
    </div>

    <!-- 검색 결과 모달 -->
    <div id="search-modal" class="search-modal">
        <div class="search-content">
            <div class="search-header">
                <h3>검색 결과</h3>
                <button class="close-btn" onclick="toggleSearchModal()">✕</button>
            </div>
            <div id="search-results" class="search-results">
                <!-- 검색 결과가 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <!-- 일정 추가/편집 모달 -->
    <div id="event-modal" class="event-modal">
        <div class="event-modal-content">
            <div class="event-modal-header">
                <h3 id="event-modal-title">새 일정 추가</h3>
                <button class="close-btn" onclick="hideEventModal()">✕</button>
            </div>
            
            <form id="event-form" class="event-form">
                <div class="event-form-grid">
                    <div class="form-group full-width">
                        <label for="event-title">일정 제목 *</label>
                        <input type="text" id="event-title" class="form-input" placeholder="일정 제목을 입력하세요" required>
                    </div>

                    <div class="form-group">
                        <label for="event-type">일정 유형</label>
                        <select id="event-type" class="form-select">
                            <option value="업무">업무일정</option>
                            <option value="연차">연차</option>
                            <option value="휴가">휴가</option>
                            <option value="회식">회식</option>
                            <option value="교육">교육/세미나</option>
                            <option value="출장">출장</option>
                            <option value="개인">개인일정</option>
                            <option value="기타">기타</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>색상 선택</label>
                        <div class="color-picker">
                            <div class="color-option active" data-color="#e53e3e" data-bg="#fed7d7" style="background: #e53e3e;" title="빨간색"></div>
                            <div class="color-option" data-color="#3182ce" data-bg="#bee3f8" style="background: #3182ce;" title="파란색"></div>
                            <div class="color-option" data-color="#38a169" data-bg="#c6f6d5" style="background: #38a169;" title="초록색"></div>
                            <div class="color-option" data-color="#ed8936" data-bg="#fbd38d" style="background: #ed8936;" title="주황색"></div>
                            <div class="color-option" data-color="#805ad5" data-bg="#d6bcfa" style="background: #805ad5;" title="보라색"></div>
                            <div class="color-option" data-color="#d53f8c" data-bg="#fed7e2" style="background: #d53f8c;" title="분홍색"></div>
                            <div class="color-option" data-color="#718096" data-bg="#e2e8f0" style="background: #718096;" title="회색"></div>
                            <div class="color-option" data-color="#319795" data-bg="#b2f5ea" style="background: #319795;" title="청록색"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="event-start-date">시작 날짜 *</label>
                        <input type="date" id="event-start-date" class="form-input" required>
                    </div>

                    <div class="form-group">
                        <label for="event-start-time">시작 시간</label>
                        <input type="time" id="event-start-time" class="form-input">
                    </div>

                    <div class="form-group">
                        <label for="event-end-date">종료 날짜</label>
                        <input type="date" id="event-end-date" class="form-input">
                    </div>

                    <div class="form-group">
                        <label for="event-end-time">종료 시간</label>
                        <input type="time" id="event-end-time" class="form-input">
                    </div>

                    <div class="form-group full-width">
                        <label for="event-description">일정 설명</label>
                        <textarea id="event-description" class="form-textarea" placeholder="일정에 대한 상세 설명을 입력하세요 (선택사항)" rows="3"></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label for="event-participants">참석자</label>
                        <input type="text" id="event-participants" class="form-input" placeholder="참석자명을 입력하세요 (쉼표로 구분)">
                    </div>
                </div>

                <div class="event-form-buttons">
                    <button type="button" class="btn-cancel" onclick="hideEventModal()">취소</button>
                    <button type="submit" class="btn-save-event">저장</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 일정 상세보기 모달 -->
    <div id="event-detail-modal" class="event-detail-modal">
        <div class="event-detail-content">
            <div class="event-detail-header">
                <div class="event-detail-color" id="event-detail-color"></div>
                <h3 id="event-detail-title">일정 제목</h3>
                <button class="close-btn" onclick="hideEventDetailModal()">✕</button>
            </div>
            
            <div class="event-detail-body">
                <div class="event-detail-info">
                    <div class="info-item">
                        <span class="info-label">유형:</span>
                        <span id="event-detail-type">업무일정</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">날짜:</span>
                        <span id="event-detail-date">2025-07-15</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">시간:</span>
                        <span id="event-detail-time">09:00 - 18:00</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">등록자:</span>
                        <span id="event-detail-creator">홍길동</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">참석자:</span>
                        <span id="event-detail-participants">-</span>
                    </div>
                </div>
                
                <div class="event-detail-description">
                    <h4>상세 설명</h4>
                    <p id="event-detail-desc">상세 설명이 여기에 표시됩니다.</p>
                </div>
                
                <div class="event-detail-actions">
                    <button class="btn-edit-event" onclick="editEvent()">✏️ 수정</button>
                    <button class="btn-delete-event" onclick="deleteEvent()">🗑️ 삭제</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 업무 퀵뷰 모달 -->
    <div id="work-quickview-modal" class="work-quickview-modal">
        <div class="work-quickview-content">
            <div class="work-quickview-header">
                <h3 id="quickview-work-title">업무 상세정보</h3>
                <button class="close-btn" onclick="hideWorkQuickView()">✕</button>
            </div>
            
            <div class="work-quickview-body">
                <!-- 업무 기본 정보 -->
                <div class="work-info-section">
                    <div class="work-info-grid">
                        <div class="info-item">
                            <span class="info-label">업무분류:</span>
                            <span id="quickview-category">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">진행상태:</span>
                            <span id="quickview-status" class="status-badge">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">대상부서:</span>
                            <span id="quickview-target-dept">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">담당자:</span>
                            <span id="quickview-responsible">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">감사기간:</span>
                            <span id="quickview-period">-</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">등록자:</span>
                            <span id="quickview-creator">-</span>
                        </div>
                    </div>
                    
                    <div class="work-description" id="quickview-description-section" style="display: none;">
                        <h4>📝 업무 설명</h4>
                        <p id="quickview-description">-</p>
                    </div>
                    
                    <div class="work-issues" id="quickview-issues-section" style="display: none;">
                        <h4>⚠️ 주요 지적사항</h4>
                        <p id="quickview-issues">-</p>
                    </div>
                </div>
                
                <!-- 댓글 섹션 -->
                <div class="quickview-comments-section">
                    <div class="comments-header">
                        <h4>💬 댓글</h4>
                        <span class="comments-count" id="quickview-comments-count">0개</span>
                    </div>
                    
                    <!-- 댓글 목록 -->
                    <div class="comments-list-compact" id="quickview-comments-list">
                        <div class="no-comments">아직 댓글이 없습니다.</div>
                    </div>
                    
                    <!-- 댓글 작성 -->
                    <div class="comment-form-compact">
                        <div class="comment-input-container-compact">
                            <textarea id="quickview-comment-input" class="comment-textarea-compact" placeholder="댓글을 입력하세요..." rows="2"></textarea>
                            <button class="btn-comment-submit-compact" onclick="addQuickViewComment()">등록</button>
                        </div>
                    </div>
                </div>
                
                <!-- 액션 버튼들 -->
                <div class="quickview-actions">
                    <button class="btn-quickview-detail" onclick="openFullComments()">상세댓글 보기</button>
                    <button class="btn-quickview-edit" onclick="editWorkFromQuickView()">✏️ 수정</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 댓글 모달 -->
    <div id="comment-modal" class="comment-modal">
        <div class="comment-modal-content">
            <div class="comment-modal-header">
                <h3 id="comment-work-title">업무명 - 댓글</h3>
                <button class="close-btn" onclick="hideCommentModal()">✕</button>
            </div>
            
            <div class="comment-modal-body">
                <!-- 댓글 목록 -->
                <div class="comments-list" id="comments-list">
                    <div class="no-comments">아직 댓글이 없습니다. 첫 번째 댓글을 남겨보세요!</div>
                </div>
                
                <!-- 댓글 작성 -->
                <div class="comment-form">
                    <div class="comment-input-container">
                        <textarea id="comment-input" class="comment-textarea" placeholder="댓글을 입력하세요..." rows="3"></textarea>
                        <div class="comment-actions">
                            <button class="btn-comment-submit" onclick="addComment()">댓글 등록</button>
                        </div>
                    </div>
                </div>
                
                <!-- 변경 이력 -->
                <div class="work-history-section">
                    <h4>📋 업무 변경 이력</h4>
                    <div class="history-list" id="work-history-list">
                        <div class="no-history">아직 변경 이력이 없습니다.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 사분면 선택 모달 -->
    <div id="quadrant-modal" class="quadrant-modal">
        <div class="quadrant-modal-content">
            <h3>어느 사분면에 추가하시겠습니까?</h3>
            <p id="selected-work-name" style="margin: 10px 0; font-weight: 600; color: #2d3748;"></p>
            
            <div class="quadrant-options">
                <div class="quadrant-option q1" onclick="addToMatrix(1)">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🚨</div>
                    <div style="font-weight: 600; margin-bottom: 5px;">DO (즉시 실행)</div>
                    <div style="font-size: 0.9rem; color: #718096;">중요하고 긴급한 일</div>
                </div>
                
                <div class="quadrant-option q2" onclick="addToMatrix(2)">
                    <div style="font-size: 2rem; margin-bottom: 10px;">📋</div>
                    <div style="font-weight: 600; margin-bottom: 5px;">PLAN (계획 수립)</div>
                    <div style="font-size: 0.9rem; color: #718096;">중요하지만 긴급하지 않은 일</div>
                </div>
                
                <div class="quadrant-option q3" onclick="addToMatrix(3)">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🤝</div>
                    <div style="font-weight: 600; margin-bottom: 5px;">DELEGATE (위임)</div>
                    <div style="font-size: 0.9rem; color: #718096;">긴급하지만 중요하지 않은 일</div>
                </div>
                
                <div class="quadrant-option q4" onclick="addToMatrix(4)">
                    <div style="font-size: 2rem; margin-bottom: 10px;">🗑️</div>
                    <div style="font-weight: 600; margin-bottom: 5px;">DELETE (제거)</div>
                    <div style="font-size: 0.9rem; color: #718096;">중요하지도 긴급하지도 않은 일</div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn-cancel" onclick="hideQuadrantModal()">취소</button>
            </div>
        </div>
    </div>

    <!-- 캐릭터 및 상태 메시지 -->
    <div class="cute-character" onclick="showTip()">🎯</div>
    <div id="status-message" class="status-message"></div>

    <!-- JavaScript 파일들 -->
    <script type="module" src="app.js"></script>
</body>
</html>
